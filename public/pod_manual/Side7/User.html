<html><head><title>Side7::User</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../_grygrnw.css" media="all" >

<script type="text/javascript" src="../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.28,
  using Pod::Simple::PullParser v3.28,
  under Perl v5.018001 at Thu Apr 10 18:18:39 2014 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#SCHEMA_INFORMATION'>SCHEMA INFORMATION</a>
  <li class='indexItem indexItem1'><a href='#RELATIONSHIPS'>RELATIONSHIPS</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#get_user_hash_for_template()'>get_user_hash_for_template()</a>
    <li class='indexItem indexItem2'><a href='#get_image_count()'>get_image_count()</a>
    <li class='indexItem indexItem2'><a href='#get_content_directory()'>get_content_directory()</a>
    <li class='indexItem indexItem2'><a href='#get_content_uri()'>get_content_uri()</a>
    <li class='indexItem indexItem2'><a href='#get_gallery()'>get_gallery()</a>
    <li class='indexItem indexItem2'><a href='#get_formatted_created_at()'>get_formatted_created_at()</a>
    <li class='indexItem indexItem2'><a href='#get_formatted_updated_at()'>get_formatted_updated_at()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#FUNCTIONS'>FUNCTIONS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#process_signup()'>process_signup()</a>
    <li class='indexItem indexItem2'><a href='#confirm_new_user()'>confirm_new_user()</a>
    <li class='indexItem indexItem2'><a href='#check_user_existence()'>check_user_existence()</a>
    <li class='indexItem indexItem2'><a href='#show_profile()'>show_profile()</a>
    <li class='indexItem indexItem2'><a href='#get_user_by_id()'>get_user_by_id()</a>
    <li class='indexItem indexItem2'><a href='#get_user_by_username()'>get_user_by_username()</a>
    <li class='indexItem indexItem2'><a href='#get_users_for_directory()'>get_users_for_directory()</a>
    <li class='indexItem indexItem2'><a href='#show_user_gallery()'>show_user_gallery()</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#COPYRIGHT'>COPYRIGHT</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Side7::User</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This class represents a user - someone who can log into the system.
For this app,
the user class is only used for login,
log out,
sign up,
subscription and termination purposes.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SCHEMA_INFORMATION"
>SCHEMA INFORMATION</a></h1>

<pre>        Table name: users
        
        id              :integer          not null, primary key
        username        :string(45)
        email_address   :string(255)
        password        :string(45)
        created_at      :datetime         not null
        updated_at      :datetime         not null</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="RELATIONSHIPS"
>RELATIONSHIPS</a></h1>

<dl>
<dt><a name="Side7::Account"
>Side7::Account</a></dt>

<dd>
<p>One-to-one relationship. FK = user_id</p>

<dt><a name="Side7::UserContent::Image"
>Side7::UserContent::Image</a></dt>

<dd>
<p>One-to-many relationship. FK = image_id</p>

<dt><a name="Side7::UserContent::Image::DetailedView"
>Side7::UserContent::Image::DetailedView</a></dt>

<dd>
<p>One-to-many relationship. FK = image_id</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_user_hash_for_template()"
>get_user_hash_for_template()</a></h2>

<pre>    $user_hash = $user-&#62;get_user_hash_for_template();</pre>

<dl>
<dt><a 
>Takes User object and converts it and its associated Account object (if embedded) into an easily accessible hash to pass to the templates. Additionally, it formats the associated dates properly for output.</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_image_count()"
>get_image_count()</a></h2>

<pre>    my $image_count = $user-&#62;get_image_count();</pre>

<p>Returns the total number of images for a given user.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_content_directory()"
>get_content_directory()</a></h2>

<pre>    my $user_content_directory = $user-&#62;get_content_directory();</pre>

<p>Returns a string for the User&#39;s content directory on the filesystem.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_content_uri()"
>get_content_uri()</a></h2>

<pre>    my $user_content_uri = $user-&#62;get_content_uri();</pre>

<p>Returns a string for the User&#39;s content URI. This is different from get_content_directory as it&#39;s relative to the domain, not to the filesystem.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_gallery()"
>get_gallery()</a></h2>

<pre>    my $gallery = $user-&#62;get_gallery( { args } );</pre>

<p>Returns an arrayref of User Content belonging to the specified User.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_formatted_created_at()"
>get_formatted_created_at()</a></h2>

<pre>    my $created_at = $user-&#62;get_formatted_created_at();</pre>

<dl>
<dt><a name="Returns_a_string_containing_the_created_at_field_formatted_appropriately_for_display."
>Returns a string containing the <code>created_at</code> field formatted appropriately for display.</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_formatted_updated_at()"
>get_formatted_updated_at()</a></h2>

<pre>    my $updated_at = $user-&#62;get_formatted_updated_at();</pre>

<dl>
<dt><a name="Returns_a_string_containing_the_updated_at_field_formatted_appropriately_for_display."
>Returns a string containing the <code>updated_at</code> field formatted appropriately for display.</a></dt>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FUNCTIONS"
>FUNCTIONS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="process_signup()"
>process_signup()</a></h2>

<pre>    $user_hash = Side7::User::process_signup();</pre>

<dl>
<dt><a 
>Takes user sign-up information and performs some safety checks with it. Then it creates a User object, and saves it to the database.</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="confirm_new_user()"
>confirm_new_user()</a></h2>

<pre>    my ( $confirmed, $error ) = Side7::User::confirm_new_user( $confirmation_code );</pre>

<dl>
<dt><a 
>Checks for a User account that has the confirmation_code that is passed in. If so, updates the User&#39;s status from &#39;Pending&#39; to &#39;Active&#39;. Creates the User&#39;s directory structure.</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="check_user_existence()"
>check_user_existence()</a></h2>

<pre>    $user = Side7::User::check_user_existence( $user_id )</pre>

<dl>
<dt><a 
>Checks to see if the user exists, and pushes the user to the stash and returns true if found. If not found, returns undef.</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="show_profile()"
>show_profile()</a></h2>

<pre>    Side7::User::show_profile()</pre>

<dl>
<dt><a name="Displays_the_public_profile_page_for_the_given_user"
>Displays the public profile page for the given user</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_user_by_id()"
>get_user_by_id()</a></h2>

<pre>    my $user = Side7::User::get_user_by_id( $user_id );</pre>

<dl>
<dt><a name="Returns_the_User_object_for_the_given_user_id"
>Returns the User object for the given user_id</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_user_by_username()"
>get_user_by_username()</a></h2>

<pre>    my $user = Side7::User::get_user_by_username( $username );</pre>

<dl>
<dt><a name="Returns_the_User_object_for_the_given_username"
>Returns the User object for the given username</a></dt>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_users_for_directory()"
>get_users_for_directory()</a></h2>

<pre>    my $users = Side7::User::get_users_for_directory( { initial =&#62; $initial, page =&#62; $page } );</pre>

<dl>
<dt><a name="Returns_an_array_of_User_objects,_based_on_the_initial_passed_in_and_the_page_provided."
>Returns an array of User objects, based on the initial passed in and the page provided.</a></dt>
</dl>

<p>Takes two optional variables: <code>initial</code> (the first symbol to match a name on), and <code>page</code> (the pagination segment to view). <code>Initial</code> defaults to &#39;a&#39;, <code>page</code> defaults to &#39;1&#39;.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="show_user_gallery()"
>show_user_gallery()</a></h2>

<pre>    my $gallery = Side7::User::show_user_gallery (
        {
            username = $username,
            TODO: DEFINE ADDITIONAL OPTIONAL ARGS
        }
    );</pre>

<p>Returns an arrayref of Gallery content for a particular User. Requires <code>username</code> to be passed in. Additional parameters control the Content that is returned.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="COPYRIGHT"
>COPYRIGHT</a></h1>

<p>Copyright (C) Side 7 1992 - 2014</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
